<?xml version="1.0"?>
<facility name="fs">
  <description>The fs facility contains events related to file system operation</description>

  <event name="buf_wait_start">
    <description>Staring to wait for a buffer</description>
    <field name="address"> <description>Address of the buffer head.</description> <pointer> </field>
  </event>

  <event name="buf_wait_end">
    <description>Ending to wait for a buffer</description>
    <field name="address"> <description>Address of the buffer head.</description> <pointer> </field>
  </event>

  <event name="exec">
    <description>Executing a file</description>
    <field name="filename"> <description>File name</description>
      <sequence>
        <uint>
        <uchar>
      </sequence>
    </field>
  </event>

  <event name="open">
    <description>Opening a file</description>
    <field name="filename"> <description>File name</description>
      <sequence>
        <uint>
        <uchar>
      </sequence>
    </field>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
  </event>

  <event name="close">
    <description>Closing a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
  </event>

  <event name="read">
    <description>Reading from a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
    <field name="count"> <description>Number of bytes to read</description> <size_t> </field>
  </event>
  
  <event name="write">
    <description>Write to a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
    <field name="count"> <description>Number of bytes to write</description> <size_t> </field>
  </event>

  <event name="seek">
    <description>Seek a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
    <field name="offset"> <description>Number of bytes to write</description> <off_t> </field>
    <field name="origin"> <description>Number of bytes to write</description> <uint size="4"> </field>
  </event>

  <event name="ioctl">
    <description>Do a IOCTL on a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
    <field name="cmd"> <description>Command</description> <uint size="4"> </field>
    <field name="arg"> <description>Argument</description> <uint size="4"> </field>
  </event>

  <event name="select">
    <description>Do a select on a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
    <field name="timeout"> <description>Time out</description> <ulong> </field>
  </event>

  <event name="poll">
    <description>Do a poll on a file descriptor</description>
    <field name="fd"> <description>File descriptor</description> <uint size="4"> </field>
  </event>

</facility>
